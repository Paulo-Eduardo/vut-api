{"version":3,"sources":["../../src/models/User.js"],"names":["bcrypt","require","mongoose","UserSchema","Schema","name","type","String","unique","required","email","password","pre","next","user","hash","error","encrypted","module","exports","model"],"mappings":"AAAA,MAAMA,SAASC,QAAQ,UAAR,CAAf;AACA,MAAMC,WAAWD,QAAQ,UAAR,CAAjB;;AAEA,MAAME,aAAa,IAAID,SAASE,MAAb,CAAoB;AACrCC,QAAM;AACJC,UAAMC,MADF;AAEJC,YAAQ,IAFJ;AAGJC,cAAU,CAAC,IAAD,EAAO,8BAAP;AAHN,GAD+B;AAMrCC,SAAO;AACLJ,UAAMC,MADD;AAELC,YAAQ,IAFH;AAGLC,cAAU,CAAC,IAAD,EAAO,2BAAP;AAHL,GAN8B;AAWrCE,YAAU;AACRL,UAAMC,MADE;AAERE,cAAU,CAAC,IAAD,EAAO,8BAAP;AAFF;AAX2B,CAApB,CAAnB;;AAiBAN,WAAWS,GAAX,CAAe,MAAf,EAAuB,UAAUC,IAAV,EAAgB;AACrC,QAAMC,OAAO,IAAb;;AAEAd,SAAOe,IAAP,CAAYD,KAAKH,QAAjB,EAA2B,EAA3B,EAA+B,UAAUK,KAAV,EAAiBC,SAAjB,EAA4B;AACzD,QAAID,KAAJ,EAAWH,KAAKG,KAAL;;AAEXF,SAAKH,QAAL,GAAgBM,SAAhB;AACAJ;AACD,GALD;AAMD,CATD;;AAWAK,OAAOC,OAAP,GAAiBjB,SAASkB,KAAT,CAAe,MAAf,EAAuBjB,UAAvB,CAAjB","file":"User.js","sourcesContent":["const bcrypt = require('bcryptjs')\nconst mongoose = require('mongoose')\n\nconst UserSchema = new mongoose.Schema({\n  name: {\n    type: String,\n    unique: true,\n    required: [true, 'Please provide your username']\n  },\n  email: {\n    type: String,\n    unique: true,\n    required: [true, 'Please provide your email']\n  },\n  password: {\n    type: String,\n    required: [true, 'Please provide your password']\n  }\n})\n\nUserSchema.pre('save', function (next) {\n  const user = this\n\n  bcrypt.hash(user.password, 10, function (error, encrypted) {\n    if (error) next(error)\n\n    user.password = encrypted\n    next()\n  })\n})\n\nmodule.exports = mongoose.model('User', UserSchema)\n"]}