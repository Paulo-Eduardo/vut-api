{"version":3,"sources":["../src/index.js"],"names":["config","require","mongoose","express","bodyParser","debug","connect","get","useNewUrlParser","connection","once","console","log","app","use","urlencoded","extended","json","listen","module","exports","port","address"],"mappings":"AAAA,MAAMA,SAASC,QAAQ,QAAR,CAAf;AACA,MAAMC,WAAWD,QAAQ,UAAR,CAAjB;AACA,MAAME,UAAUF,QAAQ,SAAR,CAAhB;AACA,MAAMG,aAAaH,QAAQ,aAAR,CAAnB;AACA,MAAMI,QAAQJ,QAAQ,OAAR,EAAiB,cAAjB,CAAd;;AAEAC,SAASI,OAAT,CAAiBN,OAAOO,GAAP,CAAW,UAAX,CAAjB,EAAyC;AACvCC,mBAAiB;AADsB,CAAzC;;AAIA;AACAN,SAASO,UAAT,CAAoBC,IAApB,CAAyB,MAAzB,EAAiC,MAAM;AACrCC,UAAQC,GAAR,CAAY,sDAAZ;AACD,CAFD;;AAIA,MAAMC,MAAMV,SAAZ;AACAU,IAAIC,GAAJ,CAAQV,WAAWW,UAAX,CAAsB,EAAEC,UAAU,IAAZ,EAAtB,CAAR;AACAH,IAAIC,GAAJ,CAAQV,WAAWa,IAAX,EAAR;AACAJ,IAAIC,GAAJ,CAAQ,KAAR,EAAeb,QAAQ,UAAR,CAAf;;AAEA,MAAMiB,SAASL,IAAIK,MAAJ,CAAWlB,OAAOO,GAAP,CAAW,MAAX,CAAX,EAA+B,MAAM;AAClDF,QACG,6BAA4BL,OAAOO,GAAP,CAAW,MAAX,CAAmB,WAAUP,OAAOO,GAAP,CACxD,MADwD,CAExD,OAHJ;AAKAI,UAAQC,GAAR,CACG,6BAA4BZ,OAAOO,GAAP,CAAW,MAAX,CAAmB,WAAUP,OAAOO,GAAP,CACxD,MADwD,CAExD,OAHJ;AAKD,CAXc,CAAf;;AAaAY,OAAOC,OAAP,GAAiBP,GAAjB;AACAM,OAAOC,OAAP,CAAeC,IAAf,GAAsBH,OAAOI,OAAP,GAAiBD,IAAvC","file":"index.js","sourcesContent":["const config = require('config')\nconst mongoose = require('mongoose')\nconst express = require('express')\nconst bodyParser = require('body-parser')\nconst debug = require('debug')('server:debug')\n\nmongoose.connect(config.get('database'), {\n  useNewUrlParser: true\n})\n\n// callback when connection to mongodb is open\nmongoose.connection.once('open', () => {\n  console.log('MongoDB database connection established successfully')\n})\n\nconst app = express()\napp.use(bodyParser.urlencoded({ extended: true }))\napp.use(bodyParser.json())\napp.use('/v1', require('./routes'))\n\nconst listen = app.listen(config.get('port'), () => {\n  debug(\n    `server is running on port ${config.get('port')} and in ${config.get(\n      'name'\n    )} mode`\n  )\n  console.log(\n    `server is running on port ${config.get('port')} and in ${config.get(\n      'name'\n    )} mode`\n  )\n})\n\nmodule.exports = app\nmodule.exports.port = listen.address().port\n"]}